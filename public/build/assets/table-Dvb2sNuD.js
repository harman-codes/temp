import{S as X,p as K,h as d,s as T,i as S,n as I,k as N,l as $,m as tt,q as M,v as et,w as st,x as z,y as _,z as V,A as it,r as c,B as j,e as Y,b as Z,c as v,j as m}from"./app-D5OvaHSW.js";import{a as y}from"./app-logo-icon-D8Ng2klp.js";var rt=class extends X{constructor(e,t){super(),this.options=t,this.#s=e,this.#o=null,this.#n=K(),this.bindMethods(),this.setOptions(t)}#s;#t=void 0;#i=void 0;#e=void 0;#r;#a;#n;#o;#b;#d;#f;#l;#c;#h;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),W(this.#t,this.options)?this.#u():this.updateResult(),this.#R())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return U(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return U(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#g(),this.#O(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,i=this.#t;if(this.options=this.#s.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof d(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),t._defaulted&&!T(this.options,t)&&this.#s.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&G(this.#t,i,this.options,t)&&this.#u(),this.updateResult(),s&&(this.#t!==i||d(this.options.enabled,this.#t)!==d(t.enabled,this.#t)||S(this.options.staleTime,this.#t)!==S(t.staleTime,this.#t))&&this.#m();const r=this.#v();s&&(this.#t!==i||d(this.options.enabled,this.#t)!==d(t.enabled,this.#t)||r!==this.#h)&&this.#y(r)}getOptimisticResult(e){const t=this.#s.getQueryCache().build(this.#s,e),i=this.createResult(t,e);return nt(this,i)&&(this.#e=i,this.#a=this.options,this.#r=this.#t.state),i}getCurrentResult(){return this.#e}trackResult(e,t){return new Proxy(e,{get:(i,s)=>(this.trackProp(s),t?.(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#n.status==="pending"&&this.#n.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,s))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#s.defaultQueryOptions(e),i=this.#s.getQueryCache().build(this.#s,t);return i.fetch().then(()=>this.createResult(i,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#e))}#u(e){this.#S();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(I)),t}#m(){this.#g();const e=S(this.options.staleTime,this.#t);if(N||this.#e.isStale||!$(e))return;const i=tt(this.#e.dataUpdatedAt,e)+1;this.#l=M.setTimeout(()=>{this.#e.isStale||this.updateResult()},i)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#O(),this.#h=e,!(N||d(this.options.enabled,this.#t)===!1||!$(this.#h)||this.#h===0)&&(this.#c=M.setInterval(()=>{(this.options.refetchIntervalInBackground||et.isFocused())&&this.#u()},this.#h))}#R(){this.#m(),this.#y(this.#v())}#g(){this.#l&&(M.clearTimeout(this.#l),this.#l=void 0)}#O(){this.#c&&(M.clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const i=this.#t,s=this.options,r=this.#e,a=this.#r,n=this.#a,R=e!==i?e.state:this.#i,{state:l}=e;let o={...l},g=!1,h;if(t._optimisticResults){const u=this.hasListeners(),O=!u&&W(e,t),x=u&&G(e,i,t,s);(O||x)&&(o={...o,...st(l.data,e.options)}),t._optimisticResults==="isRestoring"&&(o.fetchStatus="idle")}let{error:E,errorUpdatedAt:F,status:b}=o;h=o.data;let L=!1;if(t.placeholderData!==void 0&&h===void 0&&b==="pending"){let u;r?.isPlaceholderData&&t.placeholderData===n?.placeholderData?(u=r.data,L=!0):u=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,u!==void 0&&(b="success",h=z(r?.data,u,t),g=!0)}if(t.select&&h!==void 0&&!L)if(r&&h===a?.data&&t.select===this.#b)h=this.#d;else try{this.#b=t.select,h=t.select(h),h=z(r?.data,h,t),this.#d=h,this.#o=null}catch(u){this.#o=u}this.#o&&(E=this.#o,h=this.#d,F=Date.now(),b="error");const P=o.fetchStatus==="fetching",Q=b==="pending",k=b==="error",B=Q&&P,A=h!==void 0,p={status:b,fetchStatus:o.fetchStatus,isPending:Q,isSuccess:b==="success",isError:k,isInitialLoading:B,isLoading:B,data:h,dataUpdatedAt:o.dataUpdatedAt,error:E,errorUpdatedAt:F,failureCount:o.fetchFailureCount,failureReason:o.fetchFailureReason,errorUpdateCount:o.errorUpdateCount,isFetched:o.dataUpdateCount>0||o.errorUpdateCount>0,isFetchedAfterMount:o.dataUpdateCount>R.dataUpdateCount||o.errorUpdateCount>R.errorUpdateCount,isFetching:P,isRefetching:P&&!Q,isLoadingError:k&&!A,isPaused:o.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:k&&A,isStale:D(e,t),refetch:this.refetch,promise:this.#n,isEnabled:d(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const u=p.data!==void 0,O=p.status==="error"&&!u,x=w=>{O?w.reject(p.error):u&&w.resolve(p.data)},H=()=>{const w=this.#n=p.promise=K();x(w)},C=this.#n;switch(C.status){case"pending":e.queryHash===i.queryHash&&x(C);break;case"fulfilled":(O||p.data!==C.value)&&H();break;case"rejected":(!O||p.error!==C.reason)&&H();break}}return p}updateResult(){const e=this.#e,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#f=this.#t),T(t,e))return;this.#e=t;const i=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,r=typeof s=="function"?s():s;if(r==="all"||!r&&!this.#p.size)return!0;const a=new Set(r??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#e).some(n=>{const f=n;return this.#e[f]!==e[f]&&a.has(f)})};this.#E({listeners:i()})}#S(){const e=this.#s.getQueryCache().build(this.#s,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#i=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#R()}#E(e){_.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#e)}),this.#s.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function at(e,t){return d(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function W(e,t){return at(e,t)||e.state.data!==void 0&&U(e,t,t.refetchOnMount)}function U(e,t,i){if(d(t.enabled,e)!==!1&&S(t.staleTime,e)!=="static"){const s=typeof i=="function"?i(e):i;return s==="always"||s!==!1&&D(e,t)}return!1}function G(e,t,i,s){return(e!==t||d(s.enabled,e)===!1)&&(!i.suspense||e.state.status!=="error")&&D(e,i)}function D(e,t){return d(t.enabled,e)!==!1&&e.isStaleByTime(S(t.staleTime,e))}function nt(e,t){return!T(e.getCurrentResult(),t)}var ot=class extends X{#s;#t=void 0;#i;#e;constructor(e,t){super(),this.#s=e,this.setOptions(t),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#s.defaultMutationOptions(e),T(this.options,t)||this.#s.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#i,observer:this}),t?.mutationKey&&this.options.mutationKey&&V(t.mutationKey)!==V(this.options.mutationKey)?this.reset():this.#i?.state.status==="pending"&&this.#i.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#i?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#i?.removeObserver(this),this.#i=void 0,this.#r(),this.#a()}mutate(e,t){return this.#e=t,this.#i?.removeObserver(this),this.#i=this.#s.getMutationCache().build(this.#s,this.options),this.#i.addObserver(this),this.#i.execute(e)}#r(){const e=this.#i?.state??it();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){_.batch(()=>{if(this.#e&&this.hasListeners()){const t=this.#t.variables,i=this.#t.context,s={client:this.#s,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#e.onSuccess?.(e.data,t,i,s)}catch(r){Promise.reject(r)}try{this.#e.onSettled?.(e.data,null,t,i,s)}catch(r){Promise.reject(r)}}else if(e?.type==="error"){try{this.#e.onError?.(e.error,t,i,s)}catch(r){Promise.reject(r)}try{this.#e.onSettled?.(void 0,e.error,t,i,s)}catch(r){Promise.reject(r)}}}this.listeners.forEach(t=>{t(this.#t)})})}},q=c.createContext(!1),ht=()=>c.useContext(q);q.Provider;function lt(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ct=c.createContext(lt()),ut=()=>c.useContext(ct),dt=(e,t,i)=>{const s=i?.state.error&&typeof e.throwOnError=="function"?j(e.throwOnError,[i.state.error,i]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||s)&&(t.isReset()||(e.retryOnMount=!1))},ft=e=>{c.useEffect(()=>{e.clearReset()},[e])},pt=({result:e,errorResetBoundary:t,throwOnError:i,query:s,suspense:r})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(r&&e.data===void 0||j(i,[e.error,s])),bt=e=>{if(e.suspense){const i=r=>r==="static"?r:Math.max(r??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...r)=>i(s(...r)):i(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},mt=(e,t)=>e.isLoading&&e.isFetching&&!t,vt=(e,t)=>e?.suspense&&t.isPending,J=(e,t,i)=>t.fetchOptimistic(e).catch(()=>{i.clearReset()});function yt(e,t,i){const s=ht(),r=ut(),a=Y(),n=a.defaultQueryOptions(e);a.getDefaultOptions().queries?._experimental_beforeQuery?.(n);const f=a.getQueryCache().get(n.queryHash);n._optimisticResults=s?"isRestoring":"optimistic",bt(n),dt(n,r,f),ft(r);const R=!a.getQueryCache().get(n.queryHash),[l]=c.useState(()=>new t(a,n)),o=l.getOptimisticResult(n),g=!s&&e.subscribed!==!1;if(c.useSyncExternalStore(c.useCallback(h=>{const E=g?l.subscribe(_.batchCalls(h)):I;return l.updateResult(),E},[l,g]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),c.useEffect(()=>{l.setOptions(n)},[n,l]),vt(n,o))throw J(n,l,r);if(pt({result:o,errorResetBoundary:r,throwOnError:n.throwOnError,query:f,suspense:n.suspense}))throw o.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(n,o),n.experimental_prefetchInRender&&!N&&mt(o,s)&&(R?J(n,l,r):f?.promise)?.catch(I).finally(()=>{l.updateResult()}),n.notifyOnChangeProps?o:l.trackResult(o)}function xt(e,t){return yt(e,rt)}function Ct(e,t){const i=Y(),[s]=c.useState(()=>new ot(i,e));c.useEffect(()=>{s.setOptions(e)},[s,e]);const r=c.useSyncExternalStore(c.useCallback(n=>s.subscribe(_.batchCalls(n)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=c.useCallback((n,f)=>{s.mutate(n,f).catch(I)},[s]);if(r.error&&j(s.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:a,mutateAsync:r.mutate}}const Rt=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],wt=Z("pencil",Rt);const gt=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Mt=Z("trash-2",gt);function Tt(e){const t=v.c(8);let i,s;t[0]!==e?({className:i,...s}=e,t[0]=e,t[1]=i,t[2]=s):(i=t[1],s=t[2]);let r;t[3]!==i?(r=y("w-full caption-bottom text-sm",i),t[3]=i,t[4]=r):r=t[4];let a;return t[5]!==s||t[6]!==r?(a=m.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:m.jsx("table",{"data-slot":"table",className:r,...s})}),t[5]=s,t[6]=r,t[7]=a):a=t[7],a}function It(e){const t=v.c(8);let i,s;t[0]!==e?({className:i,...s}=e,t[0]=e,t[1]=i,t[2]=s):(i=t[1],s=t[2]);let r;t[3]!==i?(r=y("[&_tr]:border-b",i),t[3]=i,t[4]=r):r=t[4];let a;return t[5]!==s||t[6]!==r?(a=m.jsx("thead",{"data-slot":"table-header",className:r,...s}),t[5]=s,t[6]=r,t[7]=a):a=t[7],a}function _t(e){const t=v.c(8);let i,s;t[0]!==e?({className:i,...s}=e,t[0]=e,t[1]=i,t[2]=s):(i=t[1],s=t[2]);let r;t[3]!==i?(r=y("[&_tr:last-child]:border-0",i),t[3]=i,t[4]=r):r=t[4];let a;return t[5]!==s||t[6]!==r?(a=m.jsx("tbody",{"data-slot":"table-body",className:r,...s}),t[5]=s,t[6]=r,t[7]=a):a=t[7],a}function Pt(e){const t=v.c(8);let i,s;t[0]!==e?({className:i,...s}=e,t[0]=e,t[1]=i,t[2]=s):(i=t[1],s=t[2]);let r;t[3]!==i?(r=y("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",i),t[3]=i,t[4]=r):r=t[4];let a;return t[5]!==s||t[6]!==r?(a=m.jsx("tr",{"data-slot":"table-row",className:r,...s}),t[5]=s,t[6]=r,t[7]=a):a=t[7],a}function Qt(e){const t=v.c(8);let i,s;t[0]!==e?({className:i,...s}=e,t[0]=e,t[1]=i,t[2]=s):(i=t[1],s=t[2]);let r;t[3]!==i?(r=y("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",i),t[3]=i,t[4]=r):r=t[4];let a;return t[5]!==s||t[6]!==r?(a=m.jsx("th",{"data-slot":"table-head",className:r,...s}),t[5]=s,t[6]=r,t[7]=a):a=t[7],a}function kt(e){const t=v.c(8);let i,s;t[0]!==e?({className:i,...s}=e,t[0]=e,t[1]=i,t[2]=s):(i=t[1],s=t[2]);let r;t[3]!==i?(r=y("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",i),t[3]=i,t[4]=r):r=t[4];let a;return t[5]!==s||t[6]!==r?(a=m.jsx("td",{"data-slot":"table-cell",className:r,...s}),t[5]=s,t[6]=r,t[7]=a):a=t[7],a}export{wt as P,Pt as T,Ct as a,kt as b,Mt as c,It as d,Qt as e,Tt as f,_t as g,xt as u};
