import{c as $,j as a,e as rt,r as U,o as ke,f as V,g as re}from"./app-D5OvaHSW.js";import{S as lt,b as at,c as ot,f as it,h as st,i as nt,j as dt,g as ut,a as Ee,d as ct,k as mt,s as Pe,A as ft}from"./app-sidebar-layout-RSQG85XR.js";import{a as te,b as pt,B as N}from"./app-logo-icon-D8Ng2klp.js";import{u as ht,a as yt,T as he,b as B,P as $e,c as Oe,d as Re,e as W,f as Ue,g as Ie}from"./table-Dvb2sNuD.js";import{L as xt}from"./label-OxXsBrsC.js";import{I as gt}from"./input-DklENKhf.js";import{e as ze,f as Le,b as Ve,D as Be,g as We,c as Je,a as Ye}from"./dialog-BPZgG1XJ.js";import{S as Ge}from"./spinner-BJPZVxCB.js";import{q as Y,a as ye}from"./index-xhJfmw-v.js";/* empty css            */import"./index-BVY35O7P.js";import"./index-CboAHRfP.js";const bt=pt("group/field flex w-full gap-3 data-[invalid=true]:text-destructive",{variants:{orientation:{vertical:["flex-col [&>*]:w-full [&>.sr-only]:w-auto"],horizontal:["flex-row items-center","[&>[data-slot=field-label]]:flex-auto","has-[>[data-slot=field-content]]:items-start has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"],responsive:["flex-col [&>*]:w-full [&>.sr-only]:w-auto @md/field-group:flex-row @md/field-group:items-center @md/field-group:[&>*]:w-auto","@md/field-group:[&>[data-slot=field-label]]:flex-auto","@md/field-group:has-[>[data-slot=field-content]]:items-start @md/field-group:has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"]}},defaultVariants:{orientation:"vertical"}});function jt(t){const e=$.c(11);let r,o,s;e[0]!==t?({className:r,orientation:s,...o}=t,e[0]=t,e[1]=r,e[2]=o,e[3]=s):(r=e[1],o=e[2],s=e[3]);const l=s===void 0?"vertical":s;let i;e[4]!==r||e[5]!==l?(i=te(bt({orientation:l}),r),e[4]=r,e[5]=l,e[6]=i):i=e[6];let d;return e[7]!==l||e[8]!==o||e[9]!==i?(d=a.jsx("div",{role:"group","data-slot":"field","data-orientation":l,className:i,...o}),e[7]=l,e[8]=o,e[9]=i,e[10]=d):d=e[10],d}function wt(t){const e=$.c(8);let r,o;e[0]!==t?({className:r,...o}=t,e[0]=t,e[1]=r,e[2]=o):(r=e[1],o=e[2]);let s;e[3]!==r?(s=te("group/field-label peer/field-label flex w-fit gap-2 leading-snug group-data-[disabled=true]/field:opacity-50","has-[>[data-slot=field]]:w-full has-[>[data-slot=field]]:flex-col has-[>[data-slot=field]]:rounded-md has-[>[data-slot=field]]:border [&>*]:data-[slot=field]:p-4","has-data-[state=checked]:bg-primary/5 has-data-[state=checked]:border-primary dark:has-data-[state=checked]:bg-primary/10",r),e[3]=r,e[4]=s):s=e[4];let l;return e[5]!==o||e[6]!==s?(l=a.jsx(xt,{"data-slot":"field-label",className:s,...o}),e[5]=o,e[6]=s,e[7]=l):l=e[7],l}function vt(t){const e=$.c(8);let r,o;e[0]!==t?({className:r,...o}=t,e[0]=t,e[1]=r,e[2]=o):(r=e[1],o=e[2]);let s;e[3]!==r?(s=te("text-muted-foreground text-sm leading-normal font-normal group-has-[[data-orientation=horizontal]]/field:text-balance","last:mt-0 nth-last-2:-mt-1 [[data-variant=legend]+&]:-mt-1.5","[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4",r),e[3]=r,e[4]=s):s=e[4];let l;return e[5]!==o||e[6]!==s?(l=a.jsx("p",{"data-slot":"field-description",className:s,...o}),e[5]=o,e[6]=s,e[7]=l):l=e[7],l}function Dt(t){const e=$.c(15);let r,o,s,l;e[0]!==t?({className:o,children:r,errors:s,...l}=t,e[0]=t,e[1]=r,e[2]=o,e[3]=s,e[4]=l):(r=e[1],o=e[2],s=e[3],l=e[4]);let i;e:{if(r){i=r;break e}if(!s?.length){i=null;break e}let u;e[5]!==s?(u=[...new Map(s.map(qt)).values()],e[5]=s,e[6]=u):u=e[6];const m=u;if(m?.length==1){i=m[0]?.message;break e}let f;e[7]!==m?(f=a.jsx("ul",{className:"ml-4 flex list-disc flex-col gap-1",children:m.map(St)}),e[7]=m,e[8]=f):f=e[8],i=f}const d=i;if(!d)return null;let c;e[9]!==o?(c=te("text-destructive text-sm font-normal",o),e[9]=o,e[10]=c):c=e[10];let n;return e[11]!==d||e[12]!==l||e[13]!==c?(n=a.jsx("div",{role:"alert","data-slot":"field-error",className:c,...l,children:d}),e[11]=d,e[12]=l,e[13]=c,e[14]=n):n=e[14],n}function St(t,e){return t?.message&&a.jsx("li",{children:t.message},e)}function qt(t){return[t?.message,t]}function _t(t){const e=$.c(8);let r,o;e[0]!==t?({className:r,...o}=t,e[0]=t,e[1]=r,e[2]=o):(r=e[1],o=e[2]);let s;e[3]!==r?(s=te("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),e[3]=r,e[4]=s):s=e[4];let l;return e[5]!==o||e[6]!==s?(l=a.jsx("textarea",{"data-slot":"textarea",className:s,...o}),e[5]=o,e[6]=s,e[7]=l):l=e[7],l}function Ke(t){const e=$.c(39);let r,o,s,l,i,d,c,n,u,m;e[0]!==t?({variant:u,name:i,label:l,defaultValue:r,placeholder:d,isRequired:m,description:o,hint:s,formState:n,...c}=t,e[0]=t,e[1]=r,e[2]=o,e[3]=s,e[4]=l,e[5]=i,e[6]=d,e[7]=c,e[8]=n,e[9]=u,e[10]=m):(r=e[1],o=e[2],s=e[3],l=e[4],i=e[5],d=e[6],c=e[7],n=e[8],u=e[9],m=e[10]);const f=u===void 0?"input":u,x=m===void 0?!1:m;let j;e[11]!==x?(j=x&&a.jsx("span",{className:"text-xs text-red-500",children:"*"}),e[11]=x,e[12]=j):j=e[12];let b;e[13]!==l||e[14]!==j?(b=a.jsxs("span",{children:[l," ",j]}),e[13]=l,e[14]=j,e[15]=b):b=e[15];let w;e[16]!==s?(w=a.jsx("span",{className:"text-xs font-light text-muted-foreground",children:s}),e[16]=s,e[17]=w):w=e[17];let S;e[18]!==i||e[19]!==b||e[20]!==w?(S=a.jsxs(wt,{className:"items-center justify-between",htmlFor:i,children:[b,w]}),e[18]=i,e[19]=b,e[20]=w,e[21]=S):S=e[21];let _;e[22]!==r||e[23]!==x||e[24]!==i||e[25]!==d||e[26]!==c||e[27]!==f?(_=f==="input"?a.jsx(gt,{id:i,name:i,placeholder:d,defaultValue:r,required:x,className:"focus:border-2 focus:border-primary/80! focus:ring-0!",...c},i):a.jsx(_t,{id:i,name:i,placeholder:d,defaultValue:r,required:x,rows:4,className:"focus:border-2 focus:border-primary/80! focus:ring-0!",...c},i),e[22]=r,e[23]=x,e[24]=i,e[25]=d,e[26]=c,e[27]=f,e[28]=_):_=e[28];let K;e[29]!==i||e[30]!==n.mutation.error?.response?.data?.errors?(K=n.mutation.error?.response?.data?.errors&&n.mutation.error?.response?.data?.errors[i]?.map(Mt),e[29]=i,e[30]=n.mutation.error?.response?.data?.errors,e[31]=K):K=e[31];let F;e[32]!==o?(F=o&&a.jsx(vt,{children:o}),e[32]=o,e[33]=F):F=e[33];let T;return e[34]!==S||e[35]!==_||e[36]!==K||e[37]!==F?(T=a.jsxs(jt,{className:"mb-4",children:[S,_,K,F]}),e[34]=S,e[35]=_,e[36]=K,e[37]=F,e[38]=T):T=e[38],T}function Mt(t,e){return console.log(t),a.jsx(Dt,{children:t},e)}function kt(t){const e=$.c(21),{state:r}=t;let o;e[0]!==r.modalTitle?(o=a.jsx(ze,{children:r.modalTitle}),e[0]=r.modalTitle,e[1]=o):o=e[1];let s;e[2]!==r.modalDescription?(s=a.jsx(Le,{children:r.modalDescription}),e[2]=r.modalDescription,e[3]=s):s=e[3];let l;e[4]!==o||e[5]!==s?(l=a.jsxs(We,{children:[o,s]}),e[4]=o,e[5]=s,e[6]=l):l=e[6];let i;e[7]===Symbol.for("react.memo_cache_sentinel")?(i=a.jsx(Je,{asChild:!0,children:a.jsx(N,{variant:"outline",children:"Cancel"})}),e[7]=i):i=e[7];let d;e[8]!==r.mutation.isPending?(d=r.mutation.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{})," Deleting..."]}):"Confirm",e[8]=r.mutation.isPending,e[9]=d):d=e[9];let c;e[10]!==r.confirmDelete||e[11]!==r.mutation.isPending||e[12]!==d?(c=a.jsxs(Ve,{children:[i,a.jsx(N,{variant:"destructive",onClick:r.confirmDelete,disabled:r.mutation.isPending,children:d})]}),e[10]=r.confirmDelete,e[11]=r.mutation.isPending,e[12]=d,e[13]=c):c=e[13];let n;e[14]!==l||e[15]!==c?(n=a.jsxs(Ye,{className:"sm:max-w-sm",children:[l,c]}),e[14]=l,e[15]=c,e[16]=n):n=e[16];let u;return e[17]!==r.openModal||e[18]!==r.reset||e[19]!==n?(u=a.jsx(Be,{open:r.openModal,onOpenChange:r.reset,modal:!1,children:n}),e[17]=r.openModal,e[18]=r.reset,e[19]=n,e[20]=u):u=e[20],u}const Kt={blue:"bg-blue-700 hover:bg-blue-600 disabled:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-500 text-white",red:"bg-red-700 hover:bg-red-600 disabled:bg-red-600 dark:bg-red-600 dark:hover:bg-red-500 text-white",green:"bg-green-700 hover:bg-green-600 disabled:bg-green-600 dark:bg-green-600 dark:hover:bg-green-500 text-white",yellow:"bg-yellow-700 hover:bg-yellow-600 disabled:bg-yellow-600 dark:bg-yellow-600 dark:hover:bg-yellow-500 text-white",purple:"bg-purple-700 hover:bg-purple-600 disabled:bg-purple-600 dark:bg-purple-600 dark:hover:bg-purple-500 text-white",default:"",none:""};function Xe(t){const e=$.c(19);let r,o,s,l,i,d;e[0]!==t?({className:o,loading:l,icon:s,color:d,children:r,...i}=t,e[0]=t,e[1]=r,e[2]=o,e[3]=s,e[4]=l,e[5]=i,e[6]=d):(r=e[1],o=e[2],s=e[3],l=e[4],i=e[5],d=e[6]);const n=`cursor-pointer disabled:opacity-90 ${Kt[d===void 0?"none":d]}`;let u;e[7]!==o||e[8]!==n?(u=te(n,o),e[7]=o,e[8]=n,e[9]=u):u=e[9];let m;e[10]!==s||e[11]!==l?(m=l?a.jsx(Ge,{className:"size-4"}):s&&s,e[10]=s,e[11]=l,e[12]=m):m=e[12];let f;return e[13]!==r||e[14]!==l||e[15]!==i||e[16]!==u||e[17]!==m?(f=a.jsxs(N,{className:u,disabled:l,...i,children:[m,r]}),e[13]=r,e[14]=l,e[15]=i,e[16]=u,e[17]=m,e[18]=f):f=e[18],f}function Tt(t){const e=$.c(23),{state:r,children:o}=t;let s;e[0]!==r?(s=j=>{r.setOpenModal(j),r.reset()},e[0]=r,e[1]=s):s=e[1];let l;e[2]!==r.modalTitle?(l=a.jsx(ze,{children:r.modalTitle}),e[2]=r.modalTitle,e[3]=l):l=e[3];let i;e[4]!==r.modalDescription?(i=a.jsx(Le,{children:r.modalDescription}),e[4]=r.modalDescription,e[5]=i):i=e[5];let d;e[6]!==l||e[7]!==i?(d=a.jsxs(We,{children:[l,i]}),e[6]=l,e[7]=i,e[8]=d):d=e[8];const c=r.mode==="update"?"Save":"Submit";let n;e[9]!==r.mutation.isPending||e[10]!==c?(n=a.jsx(Xe,{loading:r.mutation.isPending,type:"submit",form:"tqform",children:c}),e[9]=r.mutation.isPending,e[10]=c,e[11]=n):n=e[11];let u;e[12]===Symbol.for("react.memo_cache_sentinel")?(u=a.jsx(Je,{asChild:!0,children:a.jsx(N,{variant:"outline",children:"Close"})}),e[12]=u):u=e[12];let m;e[13]!==n?(m=a.jsxs(Ve,{className:"mt-4",children:[n,u]}),e[13]=n,e[14]=m):m=e[14];let f;e[15]!==o||e[16]!==d||e[17]!==m?(f=a.jsxs(Ye,{className:"sm:max-w-[425px]",onPointerDownOutside:Ft,children:[d,o,m]}),e[15]=o,e[16]=d,e[17]=m,e[18]=f):f=e[18];let x;return e[19]!==r.openModal||e[20]!==s||e[21]!==f?(x=a.jsx(Be,{open:r.openModal,onOpenChange:s,modal:!0,children:f}),e[19]=r.openModal,e[20]=s,e[21]=f,e[22]=x):x=e[22],x}function Ft(t){return t.preventDefault()}function Nt(t){const e=$.c(26),{state:r,direction:o,sheetWidth:s,children:l}=t;let i;e:switch(s){case"full":{i="min-w-full";break e}case"three-quarter":{i="min-w-[75%]";break e}case"half":{i="min-w-[50%]";break e}case"quarter":{i="min-w-[25%]";break e}default:i="max-w-2xl"}const d=i;let c;e[0]!==r?(c=_=>{r.setOpenModal(_),r.reset()},e[0]=r,e[1]=c):c=e[1];let n;e[2]!==r.modalTitle?(n=a.jsx(lt,{children:r.modalTitle}),e[2]=r.modalTitle,e[3]=n):n=e[3];let u;e[4]!==r.modalDescription?(u=a.jsx(at,{children:r.modalDescription}),e[4]=r.modalDescription,e[5]=u):u=e[5];let m;e[6]!==n||e[7]!==u?(m=a.jsxs(it,{children:[n,u]}),e[6]=n,e[7]=u,e[8]=m):m=e[8];let f;e[9]!==l?(f=a.jsx("div",{className:"overflow-y-auto p-4",children:l}),e[9]=l,e[10]=f):f=e[10];let x;e[11]!==r.mutation.isPending?(x=a.jsx(Xe,{loading:r.mutation.isPending,type:"submit",form:"tqform",children:"Submit"}),e[11]=r.mutation.isPending,e[12]=x):x=e[12];let j;e[13]===Symbol.for("react.memo_cache_sentinel")?(j=a.jsx(st,{asChild:!0,children:a.jsx(N,{variant:"outline",children:"Close"})}),e[13]=j):j=e[13];let b;e[14]!==x?(b=a.jsxs(nt,{className:"flex flex-row justify-between border-t border-gray-200 dark:border-gray-900",children:[x,j]}),e[14]=x,e[15]=b):b=e[15];let w;e[16]!==o||e[17]!==d||e[18]!==m||e[19]!==f||e[20]!==b?(w=a.jsxs(dt,{className:d,onPointerDownOutside:Ct,side:o,children:[m,f,b]}),e[16]=o,e[17]=d,e[18]=m,e[19]=f,e[20]=b,e[21]=w):w=e[21];let S;return e[22]!==r.openModal||e[23]!==w||e[24]!==c?(S=a.jsx(ot,{open:r.openModal,onOpenChange:c,modal:!0,children:w}),e[22]=r.openModal,e[23]=w,e[24]=c,e[25]=S):S=e[25],S}function Ct(t){return t.preventDefault()}function At(t){const e=$.c(16),{formState:r,variant:o,direction:s,sheetWidth:l,children:i}=t,d=o===void 0?"dialog":o,c=s===void 0?"right":s;if(r.mode==="delete"){let m;return e[0]!==r?(m=a.jsx(kt,{state:r}),e[0]=r,e[1]=m):m=e[1],m}if(d==="sheet"){let m;e[2]!==i||e[3]!==r.onSubmit?(m=a.jsx("form",{id:"tqform",onSubmit:r.onSubmit,children:i}),e[2]=i,e[3]=r.onSubmit,e[4]=m):m=e[4];let f;return e[5]!==c||e[6]!==l||e[7]!==r||e[8]!==m?(f=a.jsx(Nt,{state:r,direction:c,sheetWidth:l,children:m}),e[5]=c,e[6]=l,e[7]=r,e[8]=m,e[9]=f):f=e[9],f}let n;e[10]!==i||e[11]!==r.onSubmit?(n=a.jsx("form",{id:"tqform",onSubmit:r.onSubmit,children:i}),e[10]=i,e[11]=r.onSubmit,e[12]=n):n=e[12];let u;return e[13]!==r||e[14]!==n?(u=a.jsx(Tt,{state:r,children:n}),e[13]=r,e[14]=n,e[15]=u):u=e[15],u}function Qt(t){const e=$.c(66),{query:r}=t,o=rt(),[s,l]=U.useState(!1),[i,d]=U.useState(null),[c,n]=U.useState(null),[u,m]=U.useState(void 0),[f,x]=U.useState(void 0),[j,b]=U.useState(""),[w,S]=U.useState("");let _;e[0]===Symbol.for("react.memo_cache_sentinel")?(_=ke.isOnline(),e[0]=_):_=e[0];const[K,F]=U.useState(_),[T,I]=U.useState(null);let L,p;e[1]===Symbol.for("react.memo_cache_sentinel")?(L=()=>ke.subscribe(()=>{const v=ke.isOnline();F(v)}),p=[],e[1]=L,e[2]=p):(L=e[1],p=e[2]),U.useEffect(L,p);let G;e[3]!==r.queryKey?(G=[...r.queryKey],e[3]=r.queryKey,e[4]=G):G=e[4];let X;e[5]!==r.url?(X=async()=>(await re.get(r.url)).data,e[5]=r.url,e[6]=X):X=e[6];let le;e[7]!==r.options||e[8]!==G||e[9]!==X?(le={queryKey:G,queryFn:X,staleTime:3e5,refetchOnWindowFocus:!1,...r.options},e[7]=r.options,e[8]=G,e[9]=X,e[10]=le):le=e[10];const{data:xe,isPending:ge,isError:be,isSuccess:je,isFetching:we,error:ve}=ht(le);let ae;e[11]!==K||e[12]!==r.queryKey||e[13]!==o?(ae=async g=>{if(!K)throw new Error("You are offline. Please check your internet connection.");const v=g.mode;if(!v)return;await o.cancelQueries({queryKey:[...r.queryKey]});const M=o.getQueryData([...r.queryKey]);return o.setQueryData([...r.queryKey],h=>{const q=g.dataKey,R=g.id;if(!h)return h;if(v==="delete")return q&&h[q]?{...h,[q]:h[q].filter(D=>D.id!==R)}:Array.isArray(h)?h.filter(D=>D.id!==R):h;const O={};g.data instanceof FormData?g.data.forEach((D,k)=>{O[k]=D}):typeof g.data=="object"&&g.data!==null&&Object.assign(O,g.data);const J=v==="update";if(q&&h[q]){const D=h[q];if(J)return{...h,[q]:D.map(k=>k.id===R?{...k,...O}:k)};{const k={id:Math.floor(Math.random()*1e4),...O};return{...h,[q]:[...D,k]}}}return Array.isArray(h)?J?h.map(D=>D.id===R?{...D,...O}:D):[...h,{id:Math.floor(Math.random()*1e4),...O}]:h}),{previousData:M}},e[11]=K,e[12]=r.queryKey,e[13]=o,e[14]=ae):ae=e[14];let oe;e[15]!==r.queryKey||e[16]!==o?(oe=(g,v,M)=>{const h=v.mode;if(M?.previousData&&o.setQueryData([...r.queryKey],M.previousData),re.isAxiosError(g)&&g.response?.data?.message){V.error(g.response.data.message);return}V.error(g?.message||`Error: Failed to ${h} record`)},e[15]=r.queryKey,e[16]=o,e[17]=oe):oe=e[17];let ie;e[18]!==r.queryKey||e[19]!==o?(ie=()=>{o.invalidateQueries({queryKey:[...r.queryKey]})},e[18]=r.queryKey,e[19]=o,e[20]=ie):ie=e[20];const y=yt({mutationFn:Et,onMutate:ae,onError:oe,onSuccess:(g,v)=>{const M=v.mode,h=g?.message||(M==="delete"?"Deleted successfully":`${M==="create"?"Created":"Updated"} successfully`);se(),V.success(h)},onSettled:ie}),se=()=>{l(!1),n(null),m(void 0),x(void 0),b(""),S(""),d(null),I(null),y.reset()};let ne;e[21]===Symbol.for("react.memo_cache_sentinel")?(ne=g=>{const{url:v,id:M,dataKey:h,modalTitle:q,modalDescription:R}=g;n(v),x(M),m(h),d("delete"),b(q||"Delete"),S(R||"Are you sure you want to delete?"),l(!0)},e[21]=ne):ne=e[21];const tt=ne;let de;e[22]!==u||e[23]!==y||e[24]!==f||e[25]!==c?(de=()=>{if(!c||!u||!f){V.error("Mode, url or dataKey is not defined");return}y.mutate({url:c,id:f,dataKey:u,mode:"delete"})},e[22]=u,e[23]=y,e[24]=f,e[25]=c,e[26]=de):de=e[26];const De=de;let ue;e[27]!==u||e[28]!==T||e[29]!==i||e[30]!==y||e[31]!==f||e[32]!==c?(ue=g=>{if(g.preventDefault(),!i||!c||!u){V.error("mode, url or dataKey is not defined");return}const v=new FormData(g.target);T&&Object.keys(T).length>0&&Object.entries(T).forEach(M=>{const[h,q]=M;v.append(h,String(q))}),y.mutate({url:c,id:f,mode:i,dataKey:u,data:v})},e[27]=u,e[28]=T,e[29]=i,e[30]=y,e[31]=f,e[32]=c,e[33]=ue):ue=e[33];const Se=ue;let ce;e[34]!==y?(ce=g=>{const{url:v,dataKey:M,modalTitle:h,modalDescription:q,withoutForm:R,data:O}=g,J=R===void 0?!1:R,D=O===void 0?null:O;J?D&&Object.keys(D).length>0?y.mutate({url:v,id:void 0,mode:"create",dataKey:M,data:D}):V.error("No data provided"):(n(v),m(M),x(void 0),d("create"),b(h||"Create"),S(q||"Enter the details below."),D&&Object.keys(D).length>0&&I(k=>k?{...k,...D}:D),l(!0))},e[34]=y,e[35]=ce):ce=e[35];const qe=ce;let me;e[36]!==y?(me=g=>{const{url:v,id:M,dataKey:h,modalTitle:q,modalDescription:R,withoutForm:O,data:J}=g,D=O===void 0?!1:O,k=J===void 0?null:J;D?k&&Object.keys(k).length>0?y.mutate({url:v,id:M,mode:"update",dataKey:h,data:k}):V.error("No data provided"):(n(v),x(M),m(h),d("update"),b(q||"Update"),S(R||"Change the details below to update."),k&&Object.keys(k).length>0&&I(Qe=>Qe?{...Qe,...k}:k),l(!0))},e[36]=y,e[37]=me):me=e[37];const _e=me;let fe;e[38]!==y?(fe=g=>{const{url:v,dataKey:M,data:h}=g,q=h===void 0?null:h;q&&Object.keys(q).length>0?y.mutate({url:v,mode:"post",dataKey:M,data:q}):V.error("No data provided")},e[38]=y,e[39]=fe):fe=e[39];const Me=fe;let Z;e[40]!==xe||e[41]!==ve||e[42]!==be||e[43]!==we||e[44]!==ge||e[45]!==je?(Z={data:xe,isPending:ge,isError:be,isSuccess:je,isFetching:we,error:ve},e[40]=xe,e[41]=ve,e[42]=be,e[43]=we,e[44]=ge,e[45]=je,e[46]=Z):Z=e[46];let ee;e[47]!==y.data||e[48]!==y.error||e[49]!==y.isError||e[50]!==y.isPending||e[51]!==y.isSuccess?(ee={isPending:y.isPending,isError:y.isError,isSuccess:y.isSuccess,error:y.error,data:y.data},e[47]=y.data,e[48]=y.error,e[49]=y.isError,e[50]=y.isPending,e[51]=y.isSuccess,e[52]=ee):ee=e[52];let pe;return e[53]!==De||e[54]!==qe||e[55]!==w||e[56]!==j||e[57]!==i||e[58]!==Se||e[59]!==s||e[60]!==Me||e[61]!==se||e[62]!==Z||e[63]!==ee||e[64]!==_e?(pe={state:{query:Z,mutation:ee,mode:i,openModal:s,setOpenModal:l,modalTitle:j,modalDescription:w,deleteRecord:tt,confirmDelete:De,onSubmit:Se,createRecord:qe,updateRecord:_e,post:Me,reset:se}},e[53]=De,e[54]=qe,e[55]=w,e[56]=j,e[57]=i,e[58]=Se,e[59]=s,e[60]=Me,e[61]=se,e[62]=Z,e[63]=ee,e[64]=_e,e[65]=pe):pe=e[65],pe}async function Et(t){const e=t.mode;if(e==="delete")return(await re.delete(t.url)).data;if(!t.data)throw new Error("No data");return e==="update"?(t.data instanceof FormData?t.data.append("_method","PUT"):t.data={...t.data,_method:"PUT"},(await re.post(t.url,t.data)).data):(await re.post(t.url,t.data)).data}const C=t=>({url:C.url(t),method:"get"});C.definition={methods:["get","head"],url:"/departments"};C.url=t=>C.definition.url+Y(t);C.get=t=>({url:C.url(t),method:"get"});C.head=t=>({url:C.url(t),method:"head"});const Te=t=>({action:C.url(t),method:"get"});Te.get=t=>({action:C.url(t),method:"get"});Te.head=t=>({action:C.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});C.form=Te;const A=t=>({url:A.url(t),method:"get"});A.definition={methods:["get","head"],url:"/departments/create"};A.url=t=>A.definition.url+Y(t);A.get=t=>({url:A.url(t),method:"get"});A.head=t=>({url:A.url(t),method:"head"});const Fe=t=>({action:A.url(t),method:"get"});Fe.get=t=>({action:A.url(t),method:"get"});Fe.head=t=>({action:A.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});A.form=Fe;const H=t=>({url:H.url(t),method:"post"});H.definition={methods:["post"],url:"/departments"};H.url=t=>H.definition.url+Y(t);H.post=t=>({url:H.url(t),method:"post"});const Ze=t=>({action:H.url(t),method:"post"});Ze.post=t=>({action:H.url(t),method:"post"});H.form=Ze;const Q=(t,e)=>({url:Q.url(t,e),method:"get"});Q.definition={methods:["get","head"],url:"/departments/{department}"};Q.url=(t,e)=>{(typeof t=="string"||typeof t=="number")&&(t={department:t}),typeof t=="object"&&!Array.isArray(t)&&"id"in t&&(t={department:t.id}),Array.isArray(t)&&(t={department:t[0]}),t=ye(t);const r={department:typeof t.department=="object"?t.department.id:t.department};return Q.definition.url.replace("{department}",r.department.toString()).replace(/\/+$/,"")+Y(e)};Q.get=(t,e)=>({url:Q.url(t,e),method:"get"});Q.head=(t,e)=>({url:Q.url(t,e),method:"head"});const Ne=(t,e)=>({action:Q.url(t,e),method:"get"});Ne.get=(t,e)=>({action:Q.url(t,e),method:"get"});Ne.head=(t,e)=>({action:Q.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});Q.form=Ne;const E=(t,e)=>({url:E.url(t,e),method:"get"});E.definition={methods:["get","head"],url:"/departments/{department}/edit"};E.url=(t,e)=>{(typeof t=="string"||typeof t=="number")&&(t={department:t}),typeof t=="object"&&!Array.isArray(t)&&"id"in t&&(t={department:t.id}),Array.isArray(t)&&(t={department:t[0]}),t=ye(t);const r={department:typeof t.department=="object"?t.department.id:t.department};return E.definition.url.replace("{department}",r.department.toString()).replace(/\/+$/,"")+Y(e)};E.get=(t,e)=>({url:E.url(t,e),method:"get"});E.head=(t,e)=>({url:E.url(t,e),method:"head"});const Ce=(t,e)=>({action:E.url(t,e),method:"get"});Ce.get=(t,e)=>({action:E.url(t,e),method:"get"});Ce.head=(t,e)=>({action:E.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});E.form=Ce;const P=(t,e)=>({url:P.url(t,e),method:"put"});P.definition={methods:["put","patch"],url:"/departments/{department}"};P.url=(t,e)=>{(typeof t=="string"||typeof t=="number")&&(t={department:t}),Array.isArray(t)&&(t={department:t[0]}),t=ye(t);const r={department:t.department};return P.definition.url.replace("{department}",r.department.toString()).replace(/\/+$/,"")+Y(e)};P.put=(t,e)=>({url:P.url(t,e),method:"put"});P.patch=(t,e)=>({url:P.url(t,e),method:"patch"});const Ae=(t,e)=>({action:P.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...e?.query??e?.mergeQuery??{}}}),method:"post"});Ae.put=(t,e)=>({action:P.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...e?.query??e?.mergeQuery??{}}}),method:"post"});Ae.patch=(t,e)=>({action:P.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});P.form=Ae;const z=(t,e)=>({url:z.url(t,e),method:"delete"});z.definition={methods:["delete"],url:"/departments/{department}"};z.url=(t,e)=>{(typeof t=="string"||typeof t=="number")&&(t={department:t}),typeof t=="object"&&!Array.isArray(t)&&"id"in t&&(t={department:t.id}),Array.isArray(t)&&(t={department:t[0]}),t=ye(t);const r={department:typeof t.department=="object"?t.department.id:t.department};return z.definition.url.replace("{department}",r.department.toString()).replace(/\/+$/,"")+Y(e)};z.delete=(t,e)=>({url:z.url(t,e),method:"delete"});const et=(t,e)=>({action:z.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});et.delete=(t,e)=>({action:z.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});z.form=et;const He={index:C,create:A,store:H,show:Q,edit:E,update:P,destroy:z};function Pt(){const t=$.c(44),[e,r]=U.useState(void 0);let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=ut(),t[0]=o):o=t[0];let s;t[1]===Symbol.for("react.memo_cache_sentinel")?(s={query:{url:o.url,queryKey:["users"]}},t[1]=s):s=t[1];const{state:l}=Qt(s);if(l.query.isPending){let p;return t[2]===Symbol.for("react.memo_cache_sentinel")?(p=a.jsx("div",{children:"Loading..."}),t[2]=p):p=t[2],p}let i;t[3]!==l?(i=a.jsx(N,{type:"button",variant:"outline",onClick:()=>{r(void 0),l.createRecord({url:Pe().url,dataKey:"users",modalTitle:"Create",modalDescription:"Create User"})},children:"Add User"}),t[3]=l,t[4]=i):i=t[4];let d;t[5]!==l?(d=a.jsx(N,{variant:"outline",onClick:()=>{l.createRecord({url:Pe().url,dataKey:"users",withoutForm:!0,data:{name:"John Doe"+Math.round(Math.random()*1e3),email:"john"+Math.round(Math.random()*1e3)+"@testtttt.com",password:"1234"}})},children:"Add without Form"}),t[5]=l,t[6]=d):d=t[6];let c;t[7]!==l?(c=a.jsx(N,{variant:"default",onClick:()=>{const p=prompt("Enter id");l.updateRecord({url:Ee(p||99999).url,dataKey:"users",id:p||99999,withoutForm:!0,data:{name:"u"+Math.round(Math.random()*1e3),email:Math.round(Math.random()*1e3)+"@test.com"}})},children:"Update without Form"}),t[7]=l,t[8]=c):c=t[8];let n;t[9]!==l?(n=a.jsx(N,{variant:"destructive",onClick:()=>{l.post({url:He.update(53).url,dataKey:"departments",data:{name:"u"+Math.round(Math.random()*1e3),code:Math.round(Math.random()*1e3)+"@test.com",_method:"PUT"}})},children:"Create with general post method"}),t[9]=l,t[10]=n):n=t[10];let u;t[11]!==i||t[12]!==d||t[13]!==c||t[14]!==n?(u=a.jsxs("div",{className:"mx-2 mb-4 flex gap-2",children:[i,d,c,n]}),t[11]=i,t[12]=d,t[13]=c,t[14]=n,t[15]=u):u=t[15];const m=e?e?.name:void 0;let f;t[16]!==l||t[17]!==m?(f=a.jsx(Ke,{name:"name",label:"name",formState:l,defaultValue:m}),t[16]=l,t[17]=m,t[18]=f):f=t[18];const x=e?e?.email:void 0;let j;t[19]!==l||t[20]!==x?(j=a.jsx(Ke,{name:"email",label:"email",formState:l,defaultValue:x}),t[19]=l,t[20]=x,t[21]=j):j=t[21];let b;t[22]!==l?(b=l.mode==="create"&&a.jsx(Ke,{name:"password",label:"password",formState:l}),t[22]=l,t[23]=b):b=t[23];let w;t[24]!==l||t[25]!==j||t[26]!==b||t[27]!==f?(w=a.jsxs(At,{formState:l,children:[f,j,b]}),t[24]=l,t[25]=j,t[26]=b,t[27]=f,t[28]=w):w=t[28];let S;t[29]===Symbol.for("react.memo_cache_sentinel")?(S=a.jsx(Re,{children:a.jsxs(he,{children:[a.jsx(W,{children:"ID"}),a.jsx(W,{children:"Name"}),a.jsx(W,{children:"Email"}),a.jsx(W,{children:"Actions"})]})}),t[29]=S):S=t[29];let _;t[30]!==l?(_=l.query.data?.users?.map(p=>a.jsxs(he,{children:[a.jsx(B,{children:p.id}),a.jsx(B,{children:p.name}),a.jsx(B,{children:p.email}),a.jsxs(B,{className:"flex gap-2",children:[a.jsx(N,{className:"cursor-pointer",size:"sm",variant:"secondary",onClick:()=>{r(p),l.updateRecord({url:Ee(p.id).url,id:p.id,dataKey:"users"})},children:a.jsx($e,{})}),a.jsx(N,{type:"button",className:"cursor-pointer",size:"sm",variant:"destructive",onClick:()=>l.deleteRecord({url:ct(p.id).url,id:p.id,dataKey:"users",modalTitle:"Delete User",modalDescription:`Are you sure you want to delete ${p.name}?`}),children:a.jsx(Oe,{})})]})]},p.id)),t[30]=l,t[31]=_):_=t[31];let K;t[32]!==_?(K=a.jsxs(Ue,{children:[S,a.jsx(Ie,{children:_})]}),t[32]=_,t[33]=K):K=t[33];let F;t[34]===Symbol.for("react.memo_cache_sentinel")?(F=a.jsx(Re,{children:a.jsxs(he,{children:[a.jsx(W,{children:"ID"}),a.jsx(W,{children:"Name"}),a.jsx(W,{children:"Code"}),a.jsx(W,{children:"Actions"})]})}),t[34]=F):F=t[34];let T;t[35]!==l?(T=l.query.data?.departments?.map(p=>a.jsxs(he,{children:[a.jsx(B,{children:p.id}),a.jsx(B,{children:p.name}),a.jsx(B,{children:p.code}),a.jsxs(B,{className:"flex gap-2",children:[a.jsx(N,{className:"cursor-pointer",size:"sm",variant:"secondary",onClick:()=>{r(p),l.updateRecord({url:He.update(p.id).url,id:p.id,dataKey:"departments"})},children:a.jsx($e,{})}),a.jsx(N,{className:"cursor-pointer",size:"sm",variant:"destructive",onClick:()=>l.deleteRecord({url:mt(p.id).url,id:p.id,dataKey:"departments"}),children:a.jsx(Oe,{})})]})]},p.id)),t[35]=l,t[36]=T):T=t[36];let I;t[37]!==T?(I=a.jsxs(Ue,{className:"mt-12 bg-gray-800",children:[F,a.jsx(Ie,{children:T})]}),t[37]=T,t[38]=I):I=t[38];let L;return t[39]!==w||t[40]!==K||t[41]!==I||t[42]!==u?(L=a.jsxs("div",{children:[u,w,K,I]}),t[39]=w,t[40]=K,t[41]=I,t[42]=u,t[43]=L):L=t[43],L}Pt.layout=t=>a.jsx(ft,{children:t});export{Pt as default};
